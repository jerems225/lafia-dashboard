{% if orders %}
<div class="nav-align-top mb-4">
  <ul class="nav nav-pills mb-3 nav-fill" role="tablist">
    <li class="nav-item">
      <a class="nav-link mb-0 px-0 py-1 active" role="tab" data-bs-toggle="tab" data-bs-target="#orders-pending" aria-controls="orders-pending" aria-selected="true">
        <i class="tf-icons fa fa-question text-danger"></i>
        Commandes en attentes
        <span class="badge rounded-pill badge-center bg-gradient-warning">{{orders.pendingOrders|length}}</span>
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link mb-0 px-0 py-1" role="tab" data-bs-toggle="tab" data-bs-target="#orders-canceled" aria-controls="orders-canceled" aria-selected="false">
        <i class="tf-icons fa fa-question text-danger"></i>
        Commandes annulées
        <span class="badge rounded-pill badge-center bg-gradient-danger">{{orders.canceledOrders|length}}</span>
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link mb-0 px-0 py-1" role="tab" data-bs-toggle="tab" data-bs-target="#orders-accepted" aria-controls="orders-accepted" aria-selected="false">
        <i class="tf-icons bx bx-home"></i>
        Commandes en cours de préparations
        <span class="badge rounded-pill badge-center bg-gradient-success">{{orders.acceptedOrders|length}}</span>
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link mb-0 px-0 py-1" role="tab" data-bs-toggle="tab" data-bs-target="#orders-delivered" aria-controls="orders-delivered" aria-selected="false">
        <i class="tf-icons bx bx-message-square"></i>
        Commandes livrées
        <span class="badge rounded-pill badge-center  bg-gradient-success">{{orders.deliveredOrders|length}}</span>
      </a>
    </li>

  </ul>
  <div class="tab-content">
    <div class="tab-pane fade show active" id="orders-pending" role="tabpanel">
      <div class="table-responsive p-0">
        <table class="table align-items-center mb-0">
          <thead>
            <tr class="bg-gradient-dark text-white text-center">
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7">reference de la commande</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">client</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">nombre de produits</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">montant a payer</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">montant de la livraison</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">date d'emission</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">Statut</th>
              <th class="text-white opacity-7">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for o in orders.pendingOrders %}
            <tr>
              {% set company = o.companyId|getOrderCompany({'token': app.user.token})%}
              {% set user = o.customerId|getOrderCustomer({'token': app.user.token})%}
              <td>
                <div class="d-flex px-2 py-1">
                  <div>
                    <img src="{{company.image}}" class="avatar avatar-sm me-3" alt="rider_image">
                  </div>
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm">{{o.orderRef}}</h6>
                    <p class="text-xs text-secondary mb-0">{{company.name}}</p>
                  </div>
                </div>
              </td>
              <td>
                <div class="d-flex px-2 py-1">
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm text-center">{{user.firstName}} {{user.lastName}}</h6>
                    <p class="text-xs text-secondary mb-0">{{user.email}}</p>
                  </div>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <div class="d-flex flex-column justify-content-center">
                  <span class="badge badge-sm bg-gradient-dark">{{o.products|length}} Produit(s)</span>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.amount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.deliveriesAmount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center">
                <span class="badge badge-sm bg-gradient-dark">{{o.createdAt|format_datetime('full', 'short', locale='fr')}}</span>
              </td>
              <td class="align-middle text-center">
                {% if o.status == "pending" %}
                  <span class="badge badge-sm bg-gradient-warning">En attente de traitement</span>
                {% endif %}
              </td>
              <td class="align-middle text-center">
                <a href="#" class="btn btn-primary bg-gradient-secondary btn-sm mb-0">Consulter</a>
              </td>
            </tr>
          {% endfor %}
          {% if orders['pendingOrders'] | length == 0 %}
            <tr>
              <td colspan="6">
                <p class="text-xs text-secondary mb-0 text-center">
                  <strong class="text-dark">Aucune commande en attente de traitement !</strong>
                </p>
              </td>
            </tr>
          {% endif %}

          </tbody>
        </table>
      </div>
    </div>
    <div class="tab-pane fade" id="orders-canceled" role="tabpanel">
      <div class="table-responsive p-0">
        <table class="table align-items-center mb-0">
          <thead>
            <tr class="bg-gradient-dark text-white text-center">
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7">reference de la commande</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">client</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">nombre de produits</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">montant a payer</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">montant de la livraison</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">date d'emission</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">Statut</th>
              <th class="text-white opacity-7">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for o in orders.canceledOrders %}
            <tr>
              {% set company = o.companyId|getOrderCompany({'token': app.user.token})%}
              {% set user = o.customerId|getOrderCustomer({'token': app.user.token})%}
              <td>
                <div class="d-flex px-2 py-1">
                  <div>
                    <img src="{{company.image}}" class="avatar avatar-sm me-3" alt="rider_image">
                  </div>
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm">{{o.orderRef}}</h6>
                    <p class="text-xs text-secondary mb-0">{{company.name}}</p>
                  </div>
                </div>
              </td>
              <td>
                <div class="d-flex px-2 py-1">
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm text-center">{{user.firstName}} {{user.lastName}}</h6>
                    <p class="text-xs text-secondary mb-0">{{user.email}}</p>
                  </div>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <div class="d-flex flex-column justify-content-center">
                  <span class="badge badge-sm bg-gradient-dark">{{o.products|length}} Produit(s)</span>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.amount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.deliveriesAmount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center">
                <span class="badge badge-sm bg-gradient-dark">{{o.createdAt|format_datetime('full', 'short', locale='fr')}}</span>
              </td>
              <td class="align-middle text-center">
                {% if o.status == "canceled" %}
                  <span class="badge badge-sm bg-gradient-danger">Commande annulée</span>
                {% endif %}
              </td>
              <td class="align-middle text-center">
                <a href="#" class="btn btn-primary bg-gradient-secondary btn-sm mb-0">Consulter</a>
              </td>
            </tr>
          {% endfor %}
          {% if orders['canceledOrders'] | length == 0 %}
            <tr>
              <td colspan="6">
                <p class="text-xs text-secondary mb-0 text-center">
                  <strong class="text-dark">Aucune commande annulée actuellement !</strong>
                </p>
              </td>
            </tr>
          {% endif %}

          </tbody>
        </table>
      </div>
    </div>
    <div class="tab-pane fade" id="orders-accepted" role="tabpanel">
      <div class="table-responsive p-0">
        <table class="table align-items-center mb-0">
          <thead>
            <tr class="bg-gradient-dark text-white text-center">
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7">reference de la commande</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">client</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">nombre de produits</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">montant a payer</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">montant de la livraison</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">date d'emission</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">Statut</th>
              <th class="text-white opacity-7">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for o in orders.acceptedOrders %}
            <tr>
              {% set company = o.companyId|getOrderCompany({'token': app.user.token})%}
              {% set user = o.customerId|getOrderCustomer({'token': app.user.token})%}
              <td>
                <div class="d-flex px-2 py-1">
                  <div>
                    <img src="{{company.image}}" class="avatar avatar-sm me-3" alt="rider_image">
                  </div>
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm">{{o.orderRef}}</h6>
                    <p class="text-xs text-secondary mb-0">{{company.name}}</p>
                  </div>
                </div>
              </td>
              <td>
                <div class="d-flex px-2 py-1">
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm text-center">{{user.firstName}} {{user.lastName}}</h6>
                    <p class="text-xs text-secondary mb-0">{{user.email}}</p>
                  </div>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <div class="d-flex flex-column justify-content-center">
                  <span class="badge badge-sm bg-gradient-dark">{{o.products|length}} Produit(s)</span>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.amount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.deliveriesAmount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center">
                <span class="badge badge-sm bg-gradient-dark">{{o.createdAt|format_datetime('full', 'short', locale='fr')}}</span>
              </td>
              <td class="align-middle text-center">
                {% if o.status == "accepted" %}
                  <span class="badge badge-sm bg-gradient-success text-dark">Commande en cours de traitement</span>
                {% endif %}
              </td>
              <td class="align-middle text-center">
                <a href="#" class="btn btn-primary bg-gradient-secondary btn-sm mb-0">Consulter</a>
              </td>
            </tr>
          {% endfor %}
          {% if orders['acceptedOrders'] | length == 0 %}
            <tr>
              <td colspan="6">
                <p class="text-xs text-secondary mb-0 text-center">
                  <strong class="text-dark">Aucune commande en cours de traitement actuellement !</strong>
                </p>
              </td>
            </tr>
          {% endif %}

          </tbody>
        </table>
      </div>
    </div>
    <div class="tab-pane fade" id="orders-delivered" role="tabpanel">
      <div class="table-responsive p-0">
        <table class="table align-items-center mb-0">
          <thead>
            <tr class="bg-gradient-dark text-white text-center">
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7">reference de la commande</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">client</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">nombre de produits</th>
              <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">montant a payer</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">montant de la livraison</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">date d'emission</th>
              <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">Statut</th>
              <th class="text-white opacity-7">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for o in orders.deliveredOrders %}
            <tr>
              {% set company = o.companyId|getOrderCompany({'token': app.user.token})%}
              {% set user = o.customerId|getOrderCustomer({'token': app.user.token})%}
              <td>
                <div class="d-flex px-2 py-1">
                  <div>
                    <img src="{{company.image}}" class="avatar avatar-sm me-3" alt="rider_image">
                  </div>
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm">{{o.orderRef}}</h6>
                    <p class="text-xs text-secondary mb-0">{{company.name}}</p>
                  </div>
                </div>
              </td>
              <td>
                <div class="d-flex px-2 py-1">
                  <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-sm text-center">{{user.firstName}} {{user.lastName}}</h6>
                    <p class="text-xs text-secondary mb-0">{{user.email}}</p>
                  </div>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <div class="d-flex flex-column justify-content-center">
                  <span class="badge badge-sm bg-gradient-dark">{{o.products|length}} Produit(s)</span>
                </div>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.amount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center text-sm">
                <span class="badge badge-sm bg-gradient-dark">{{o.deliveriesAmount|shortNumberStyle}} FCFA</span>
              </td>
              <td class="align-middle text-center">
                <span class="badge badge-sm bg-gradient-dark">{{o.createdAt|format_datetime('full', 'short', locale='fr')}}</span>
              </td>
              <td class="align-middle text-center">
                {% if o.status == "delivered" %}
                  <span class="badge badge-sm bg-gradient-success text-dark">Commande livrée</span>
                {% endif %}
              </td>
              <td class="align-middle text-center">
                <a href="#" class="btn btn-primary bg-gradient-secondary btn-sm mb-0">Consulter</a>
              </td>
            </tr>
          {% endfor %}
          {% if orders['deliveredOrders'] | length == 0 %}
            <tr>
              <td colspan="6">
                <p class="text-xs text-secondary mb-0 text-center">
                  <strong class="text-dark">Aucune commande livrée actuellement !</strong>
                </p>
              </td>
            </tr>
          {% endif %}

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="table-responsive p-0">
  <table class="table align-items-center mb-0">
    <thead>
      <tr class="bg-gradient-dark text-white text-center">
        <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7">reference de la commande</th>
        <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">client</th>
        <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">nombre de produits</th>
        <th class="text-uppercase text-white text-xxs font-weight-bolder opacity-7 ps-2">montant a payer</th>
        <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">montant de la livraison</th>
        <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">date d'emission</th>
        <th class="text-center text-uppercase text-white text-xxs font-weight-bolder opacity-7">Statut</th>
        <th class="text-white opacity-7">Action</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td colspan="6">
            <p class="text-xs text-secondary mb-0 text-center">
              <strong class="text-dark">Aucune commande enregistrée actuellement !</strong>
            </p>
          </td>
        </tr>
    </tbody>
  </table>
</div>
{% endif %}